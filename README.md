# Панорамный тур для студентов

Этот репозиторий содержит статический веб-проект на базе [Marzipano](http://www.marzipano.net/),
который позволяет просматривать набор сферических панорам и перемещаться между ними при помощи
встроенных ссылок. Репозиторий оформлен так, чтобы его можно было сразу передать одногруппникам
или студентам: в README описано назначение файлов, структура данных и сценарий локального запуска.

## Возможности

- переключение между сценами через боковое меню;
- поддержка подсказок и информационных точек (info hotspots);
- кнопки управления обзором и масштабом панорамы;
- автоматическое вращение сцены с возможностью включить и выключить его;
- полноэкранный режим (если поддерживается браузером);
- экранирование названий сцен для безопасного отображения в интерфейсе.

## Структура проекта

```
project-panorama/
├── data.js          # Конфигурация панорам: сцены, переходы, точки интереса
├── img/             # Иконки интерфейса (кнопки, переключатели)
├── index.html       # Основная HTML-страница тура
├── index.js         # Логика и инициализация Marzipano
├── style.css        # Стили оформления интерфейса
├── tiles/           # Наборы тайлов и превью для каждой сцены
├── vendor/          # Сторонние библиотеки (Marzipano, bowser, screenfull, reset.css)
└── README.md        # Описание проекта и инструкции
```

При необходимости можно добавить свои статические файлы (аудио, текст, изображения) в новые
каталоги — главное, чтобы пути к ним корректно указывались в `index.html`.

## Быстрый старт

1. Склонируйте репозиторий или скачайте архив с проектом.
2. Запустите любой статический сервер из корневой папки. Подойдут, например:
   - `python3 -m http.server 8080`
   - `npx serve`
   - запуск через Live Server в VS Code
3. Откройте в браузере `http://localhost:8080` (или другой порт, который вы указали).

Проект полностью статический и не требует сборки или установки зависимостей.

## Настройка собственных панорам

### 1. Подготовка тайлов

- Используйте [Marzipano Tool](https://www.marzipano.net/tool/) или любой другой конвертер, который
  умеет нарезать сферические панорамы в кубические тайлы.
- Сохраните результат в папку `tiles/<scene-id>/` вместе с файлом `preview.jpg`.
- Названия сцен (`scene-id`) должны быть уникальными и совпадать с идентификаторами в `data.js` и
  в атрибутах `data-id` в `index.html`.

### 2. Обновление списка сцен в `index.html`

В блоке `<div id="sceneList">` каждая сцена описывается ссылкой вида:

```html
<a href="javascript:void(0)" class="scene" data-id="my-scene">
  <li class="text">Название сцены</li>
</a>
```

- Текст внутри `<li>` — это подпись в меню.
- `data-id` должен совпадать с `id` сцены в `data.js`.
- Ссылки можно свободно удалять, добавлять и менять порядок.

### 3. Конфигурация в `data.js`

Каждая сцена описывается объектом со следующими ключами:

- `id` — уникальный идентификатор и название папки в `tiles/`.
- `name` — отображаемое название в заголовке и списке сцен.
- `levels` и `faceSize` — параметры тайлов (генерируются Marzipano Tool автоматически).
- `initialViewParameters` — стартовый угол обзора (`yaw`, `pitch`) и поле зрения (`fov`).
- `linkHotspots` — переходы на другие сцены (`target` = `id` целевой сцены).
- `infoHotspots` — текстовые подсказки и описания (опционально).

См. существующие записи в файле, чтобы ориентироваться по формату.

### 4. Проверка работы

После обновления конфигурации перезапустите локальный сервер (если нужно) и убедитесь, что:

- миниатюры в списке сцен отображаются корректно;
- названия сцен показываются без HTML-артефактов (функция `sanitize` в `index.js` отфильтрует
  специальные символы);
- переходы между сценами работают.

## Советы по развёртыванию

- Для публикации достаточно скопировать содержимое репозитория на любой статический хостинг
  (GitHub Pages, Netlify, Vercel и т.д.).
- Если папка `tiles/` получается слишком тяжёлой, можно хранить её отдельно и подгружать из CDN,
  поправив `urlPrefix` в `index.js`.
- При необходимости локализации текста (кнопки, подсказки, названия сцен) все строки находятся в
  файлах `index.html`, `index.js` и `data.js`.

## Лицензия

Проект основан на примере из официального репозитория Marzipano, распространяемого по лицензии
Apache 2.0. Используйте его свободно в учебных целях, не забывая проверять условия использования
исходных материалов (панорамных фотографий и иконок).

